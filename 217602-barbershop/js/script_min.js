var login=document.querySelector(".user_login"),popup=document.querySelector(".modal_login"),close=popup.querySelector(".modal_close"),loginOverlay=document.querySelector(".modal_overlay"),form=popup.querySelector(".login_form"),formLogin=form.querySelector('[name="login_form_login"]'),formPassword=form.querySelector('[name="login_form_password"]'),storage=localStorage.getItem("login");login.addEventListener("click",function(a){a.preventDefault(),popup.classList.add("modal_login_show"),loginOverlay.classList.add("modal_overlay_open"),storage?(formLogin.value=storage,formPassword.focus()):formLogin.focus()}),form.addEventListener("submit",function(a){""===formLogin.value.trim()||""===formPassword.value.trim()?(a.preventDefault(),popup.classList.remove("modal_error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal_error")):localStorage.setItem("login",formLogin.value)}),close.addEventListener("click",function(a){a.preventDefault(),popup.classList.remove("modal_login_show"),popup.classList.remove("modal_error"),loginOverlay.classList.remove("modal_overlay_open")}),loginOverlay.addEventListener("click",function(){popup.classList.remove("modal_login_show"),loginOverlay.classList.remove("modal_overlay_open")}),window.addEventListener("keydown",function(a){27===a.keyCode&&popup.classList.contains("modal_login_show")&&(popup.classList.remove("modal_login_show"),loginOverlay.classList.remove("modal_overlay_open"))});var link=document.querySelector(".map_open"),open=document.querySelector(".modal_map"),overlay=document.querySelector(".modal_overlay"),close=open.querySelector(".modal_close");link.addEventListener("click",function(a){a.preventDefault(),open.classList.add("modal_open"),overlay.classList.add("modal_overlay_open")}),close.addEventListener("click",function(a){a.preventDefault(),open.classList.remove("modal_open"),overlay.classList.remove("modal_overlay_open")}),overlay.addEventListener("click",function(){open.classList.remove("modal_open"),overlay.classList.remove("modal_overlay_open")}),window.addEventListener("keydown",function(a){27===a.keyCode&&open.classList.contains("modal_open")&&(open.classList.remove("modal_open"),overlay.classList.remove("modal_overlay_open"))});var link=document.querySelector(".map_open_1"),open=document.querySelector(".modal_map"),overlay=document.querySelector(".modal_overlay"),close=open.querySelector(".modal_close");link.addEventListener("click",function(a){a.preventDefault(),open.classList.add("modal_open"),overlay.classList.add("modal_overlay_open")}),close.addEventListener("click",function(a){a.preventDefault(),open.classList.remove("modal_open"),overlay.classList.remove("modal_overlay_open")}),overlay.addEventListener("click",function(){open.classList.remove("modal_open"),overlay.classList.remove("modal_overlay_open")}),window.addEventListener("keydown",function(a){27===a.keyCode&&open.classList.contains("modal_open")&&(open.classList.remove("modal_open"),overlay.classList.remove("modal_overlay_open"))});